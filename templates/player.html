{% extends "base.html" %}
{% block title %}Player ‚Äì NivPro{% endblock %}
{% block body %}
<div class="container">
  <header class="header">
    <h1>NivPro</h1>
    <div id="user-area"></div>
  </header>

  <div id="login-section">
    <form id="login-form" class="card">
      <h2>Log in</h2>
      <label>Username <input type="text" name="username" required autocomplete="username"></label>
      <label>Password <input type="password" name="password" required autocomplete="current-password"></label>
      <button type="submit">Log in</button>
      <p id="login-error" class="error"></p>
      <p class="auth-toggle">Don't have an account? <a href="#" id="show-signup">Sign up</a></p>
    </form>
    <form id="signup-form" class="card hidden">
      <h2>Sign up</h2>
      <label>Username <input type="text" name="username" required autocomplete="username"></label>
      <label>Password <input type="password" name="password" required autocomplete="new-password" minlength="6"></label>
      <label>Confirm password <input type="password" name="password_confirm" required autocomplete="new-password"></label>
      <button type="submit">Sign up</button>
      <p id="signup-error" class="error"></p>
      <p class="auth-toggle">Already have an account? <a href="#" id="show-login">Log in</a></p>
    </form>
  </div>

  <div id="player-section" class="hidden">
    <div class="search-row">
      <input type="search" id="search" placeholder="Search songs..." autocomplete="off">
    </div>
    <div class="unified-player-bar">
      <div class="player-bar-row">
        <button type="button" id="prev-btn" class="player-btn" title="Previous">‚èÆ</button>
        <button type="button" id="play-pause-btn" class="player-btn play-btn" title="Play">‚ñ∂</button>
        <button type="button" id="next-btn" class="player-btn" title="Next">‚è≠</button>
        <button type="button" id="shuffle-btn" class="player-btn" title="Shuffle">üîÄ</button>
        <div class="player-info">
          <div id="now-playing-title">No song selected</div>
          <div id="now-playing-artist"></div>
        </div>
        <button type="button" id="love-btn" class="player-btn love-btn" title="Love this song">‚ô°</button>
      </div>
      <div class="player-progress">
        <span id="time-current" class="time-display">0:00</span>
        <input type="range" id="progress-bar" min="0" max="0" value="0" step="1" title="Seek">
        <span id="time-total" class="time-display">0:00</span>
        <span id="time-left" class="time-display time-left"></span>
      </div>
      <audio id="audio" style="display: none;"></audio>
    </div>
    <ul id="song-list"></ul>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script src="/static/player.js"></script>
{% endblock %}
